"use strict";(globalThis.webpackChunkhtmv_docs=globalThis.webpackChunkhtmv_docs||[]).push([[7081],{3824(e,t,o){o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"getting-started/your-first-route","title":"Your first route","description":"In the previous section, we prepared our view for rendering. Now it\'s time to tell the router we wish to send it to the user when they visit the page.","source":"@site/docs/getting-started/your-first-route.md","sourceDirName":"getting-started","slug":"/getting-started/your-first-route","permalink":"/docs/getting-started/your-first-route","draft":false,"unlisted":false,"editUrl":"https://github.com/fabrisdev/htmv-docs/tree/main/docs/getting-started/your-first-route.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Your first view","permalink":"/docs/getting-started/your-first-view"},"next":{"title":"What\'s next?","permalink":"/docs/getting-started/whats-next"}}');var n=o(5656),s=o(5395);const i={sidebar_position:6},d="Your first route",a={},l=[{value:"How routing works in HTMV",id:"how-routing-works-in-htmv",level:2},{value:"An example",id:"an-example",level:2},{value:"Route handlers",id:"route-handlers",level:2},{value:"Your final code",id:"your-final-code",level:2}];function h(e){const t={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"your-first-route",children:"Your first route"})}),"\n",(0,n.jsx)(t.p,{children:"In the previous section, we prepared our view for rendering. Now it's time to tell the router we wish to send it to the user when they visit the page."}),"\n",(0,n.jsxs)(t.p,{children:["For that, let's head over to our ",(0,n.jsx)(t.code,{children:"routes"})," folder. There should already be an ",(0,n.jsx)(t.code,{children:"index.ts"})," file inside there. Just as we did for our views, let's delete it in order to start from scratch."]}),"\n",(0,n.jsx)(t.h2,{id:"how-routing-works-in-htmv",children:"How routing works in HTMV"}),"\n",(0,n.jsxs)(t.p,{children:["HTMV makes use of file system based routing. If you've used a framework like Next.js before, this will be very similar to it.",(0,n.jsx)(t.br,{}),"\n","A route in HTMV is simply an ",(0,n.jsx)(t.code,{children:"index.ts"})," file inside the routes directory.\nThe file path determines the URL, and the exported functions determine how that route behaves."]}),"\n",(0,n.jsx)(t.h2,{id:"an-example",children:"An example"}),"\n",(0,n.jsxs)(t.p,{children:["Let's say we would like to show our cool view we just made in ",(0,n.jsx)(t.code,{children:"localhost:3000/blog/welcome/"}),"\nFor that, we'd have to first create a ",(0,n.jsx)(t.code,{children:"blog"})," folder and inside it create a ",(0,n.jsx)(t.code,{children:"welcome"})," folder. Finally, for HTMV to actually register it as a route we must create an ",(0,n.jsx)(t.code,{children:"index.ts"})," file inside it."]}),"\n",(0,n.jsxs)(t.p,{children:["For our TODO project however, we only need to show it on the ",(0,n.jsx)(t.code,{children:"/"})," route and therefore the ",(0,n.jsx)(t.code,{children:"index.ts"})," file should be placed directly on the ",(0,n.jsx)(t.code,{children:"routes"})," folder."]}),"\n",(0,n.jsx)(t.h2,{id:"route-handlers",children:"Route handlers"}),"\n",(0,n.jsx)(t.p,{children:"That's good and all, but how do I tell it which view to render when the user visits that route?"}),"\n",(0,n.jsxs)(t.p,{children:["Good question. For that, we make use of route handlers. For example, if we wish to send it whenever a ",(0,n.jsx)(t.code,{children:"GET"})," request is made on that route we can do so like this inside our just created ",(0,n.jsx)(t.code,{children:"index.ts"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { view } from 'htmv'\n \nexport function GET() {\n  return view('list') // list is the name of the view we had just created. Make sure not to include the .html extension\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Simple, right? We simply must have an exported function called ",(0,n.jsx)(t.code,{children:"GET"})," and inside it we return whatever we wish to render when the user visits that page. In this case, we make use of the ",(0,n.jsx)(t.code,{children:"view"})," function to render our view, but we could also have just rendered plain text by just returning a string."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"GET"})," however, is not the only available method to use. Another common one is ",(0,n.jsx)(t.code,{children:"ALL"}),", which simply means it doesn't matter what method the user uses when making the request. HTMV considers it the default method and so you must use the ",(0,n.jsx)(t.code,{children:"default"})," keyword when working with it:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { view } from 'htmv'\n \nexport default function MyRoute() {\n  return view('list')\n}\n"})}),"\n",(0,n.jsx)(t.p,{children:"Note how the name of the function is no longer of importance to us. And so we may as well just use an arrow function:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { view } from 'htmv'\n \nexport default () => {\n  return view('list')\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["For more information on the available methods, check out the dedicated ",(0,n.jsx)(t.a,{href:"/docs/features/route-handlers",children:"route handlers section"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"your-final-code",children:"Your final code"}),"\n",(0,n.jsxs)(t.p,{children:["I'm sorry if it was too much information to take and you got lost half-way through. This section is to make sure we're on the same foot.",(0,n.jsx)(t.br,{}),"\n","Your final code should have been placed inside ",(0,n.jsx)(t.code,{children:"routes/index.ts"})," and it should contain the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { view } from 'htmv'\n \nexport default () => {\n  return view('list')\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["If that is correct, good news! You should finally be able to see your webpage up and running. Start the server with ",(0,n.jsx)(t.code,{children:"bun dev"})," and visit ",(0,n.jsx)(t.code,{children:"localhost:3000"})," to do so!"]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},5395(e,t,o){o.d(t,{R:()=>i,x:()=>d});var r=o(7140);const n={},s=r.createContext(n);function i(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);